<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>bootstrap4toggle size check</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<link rel="stylesheet" href="../css/bootstrap5-toggle.css">

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
		crossorigin="anonymous"></script>
	<script src="../js/bootstrap5-toggle.js"></script>

	<script>
		function init() {
			let main = $('main');
			const colors = [
				"primary",
				"secondary",
				"success",
				"danger",
				"warning",
				"info",
				"dark",
			];
			colors.forEach((color) => {
				let toggleDiv = $('<div class="col text-center">')
					.append(
						$('<input type="checkbox" checked data-toggle="toggle" data-offstyle="outline-dark">')
							.attr('data-onstyle', 'outline-' + color)
					);
				let buttonDiv = $('<div class="col text-center">')
					.append(
						$('<button class="btn text-center">')
							.addClass('btn-outline-' + color)
							.html('Button')
					);
				let testDiv = $('<div class="border p-3 mb-4 test">').attr('id', 'color-' + color);
				testDiv.append($('<div class="row mb-3">').append(toggleDiv, buttonDiv));
				testDiv.append($('<div class="row align-items-center">').append($('<div class="col text-center"></div>'), $('<div class="col text-center"></div>')));
				main.append($('<h4 class="fw-light text-capitalize">').addClass('text-' + color).html(color), testDiv);
			});
		}

		function doCompare() {
			$('[id^="color-"]').each(function () {
				var $row = $(this).find('.row:eq(1)');

				var toggleBgColor = window.getComputedStyle(document.querySelector('#' + $(this).attr('id') + " .toggle-handle"), null).getPropertyValue('background-color');
				var toggleBorderColor = window.getComputedStyle(document.querySelector('#' + $(this).attr('id') + " .toggle-handle"), null).getPropertyValue('border-color');
				var buttonColor = window.getComputedStyle(document.querySelector('#' + $(this).attr('id') + " button"), null).getPropertyValue('border-color');

				var isSuccess = toggleBgColor == buttonColor && toggleBorderColor == buttonColor;

				var badge = $('<div></div>').addClass('badge text-monospace').addClass(isSuccess ? 'bg-success' : 'bg-danger');
				$(this).find('.row:eq(1) .col:eq(1)').append(
					(badge.clone(true)).html('Border: ' + buttonColor)
				);
				$(this).find('.row:eq(1) .col:eq(0)').append(
					(badge.clone(true)).html('Background: ' + toggleBgColor + '<br>Border: ' + toggleBorderColor)
				);
			});
		}

		function appStartup() {
			init();
			$('input[data-toggle="toggle"]').bootstrapToggle();
			setTimeout(doCompare, 500);
		}
		$(document).ready(appStartup)
	</script>
</head>

<body class="bg-light p-4">
	<section id="appHeader" class="container">
		<div class="row align-items-center">
			<div class="col-10 px-0">
				<h1 class="text-primary font-weight-light">Test App: Bootstrap-vs-bootstrap5toggle</h1>
			</div>
			<div class="col-2 pr-0">
				<code>Bootstrap 5.1.3</code>
			</div>
		</div>
		<div class="row">
			<div class="col px-1">
				<p class="text-muted">
					Test outline render color of <code>bootstrap5-toggle</code> buttons
				</p>
			</div>
		</div>
	</section>

	<main class="container"></main>
</body>

</html>